# 1.1 - –°–ª–æ–∏ –¥–∞–Ω–Ω—ã—Ö –≤ Data Warehouse: –ü–æ–ª–Ω–æ–µ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ

## –í–≤–µ–¥–µ–Ω–∏–µ

–ú–Ω–æ–≥–æ—Å–ª–æ–π–Ω–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ DWH - –æ—Å–Ω–æ–≤–∞ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –¥–∞–Ω–Ω—ã–º–∏ –ø—Ä–µ–¥–ø—Ä–∏—è—Ç–∏—è, –æ–±–µ—Å–ø–µ—á–∏–≤–∞—é—â–∞—è –ø–æ—Å—Ç–µ–ø–µ–Ω–Ω—É—é —Ç—Ä–∞–Ω—Å—Ñ–æ—Ä–º–∞—Ü–∏—é –¥–∞–Ω–Ω—ã—Ö –∏–∑ —Å—ã—Ä–æ–≥–æ —Å–æ—Å—Ç–æ—è–Ω–∏—è –≤ –≥–æ—Ç–æ–≤—ã–µ –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞ –±–∏–∑–Ω–µ—Å-–º–µ—Ç—Ä–∏–∫–∏.

## üéØ –û—Å–Ω–æ–≤–Ω—ã–µ —Å–ª–æ–∏ DWH

### 1. Staging Layer (RAW)

–°–ª–æ–π –¥–ª—è –ø—Ä–∏–µ–º–∞ –∏ –≤—Ä–µ–º–µ–Ω–Ω–æ–≥–æ —Ö—Ä–∞–Ω–µ–Ω–∏—è —Å—ã—Ä—ã—Ö –¥–∞–Ω–Ω—ã—Ö "–∫–∞–∫ –µ—Å—Ç—å" –∏–∑ –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤ —Å–∏—Å—Ç–µ–º.

### 2. ODS/ODL (Operational Data Store/Layer)

–°–ª–æ–π –æ–ø–µ—Ä–∞—Ü–∏–æ–Ω–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö —Å –µ–¥–∏–Ω—ã–º —Ñ–æ—Ä–º–∞—Ç–æ–º –∏ –±–∞–∑–æ–≤–æ–π –æ—á–∏—Å—Ç–∫–æ–π.

### 3. DDS/DWD (Detail Data Store)

–°–ª–æ–π –¥–µ—Ç–∞–ª—å–Ω—ã—Ö –∏—Å—Ç–æ—Ä–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö - "–µ–¥–∏–Ω—ã–π –∏—Å—Ç–æ—á–Ω–∏–∫ –ø—Ä–∞–≤–¥—ã".

### 4. Data Marts

–ü—Ä–µ–¥–Ω–∞—Å—Ç—Ä–æ–µ–Ω–Ω—ã–µ –≤–∏—Ç—Ä–∏–Ω—ã –¥–ª—è –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã—Ö –±–∏–∑–Ω–µ—Å-–Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–π.

### 5. Presentation/Reporting Layer

–°–ª–æ–π –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏—è –¥–ª—è –æ—Ç—á–µ—Ç–æ–≤ –∏ BI-–∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤.

## üõ†Ô∏è –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Å–ª–æ–∏

### Data Lake

–¶–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–æ–µ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ –¥–ª—è –ª—é–±—ã—Ö –¥–∞–Ω–Ω—ã—Ö –≤ —Å—ã—Ä–æ–º –≤–∏–¥–µ.

### Sandbox Environment

–ò–∑–æ–ª–∏—Ä–æ–≤–∞–Ω–Ω–∞—è —Å—Ä–µ–¥–∞ –¥–ª—è —ç–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç–æ–≤ –∏ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏.

### Semantic Layer

–í–∏—Ä—Ç—É–∞–ª—å–Ω—ã–π —Å–ª–æ–π —Å –±–∏–∑–Ω–µ—Å-—Ç–µ—Ä–º–∏–Ω–∞–º–∏ –≤–º–µ—Å—Ç–æ —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏—Ö –Ω–∞–∑–≤–∞–Ω–∏–π.

---

## –û—Å–Ω–æ–≤–Ω—ã–µ —Å–ª–æ–∏ DWH

| –°–ª–æ–π                      | –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ                           | –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏                                                                                           | –ß–∞—Å—Ç–æ—Ç–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è              | –¢–∏–ø–∏—á–Ω—ã–µ —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–∏                  | –ö–ª—é—á–µ–≤—ã–µ –º–µ—Ç—Ä–∏–∫–∏ —Å–ª–æ—è                                                        |
| :------------------------ | :----------------------------------- | :------------------------------------------------------------------------------------------------------------------- | :------------------------------ | :----------------------------------- | :--------------------------------------------------------------------------- |
| **1. Staging (RAW)**      | –ü—Ä–∏–µ–º —Å—ã—Ä—ã—Ö –¥–∞–Ω–Ω—ã—Ö "–∫–∞–∫ –µ—Å—Ç—å"        | ‚Ä¢ –§–æ—Ä–º–∞—Ç –∏–¥–µ–Ω—Ç–∏—á–µ–Ω –∏—Å—Ç–æ—á–Ω–∏–∫—É<br>‚Ä¢ –ú–∏–Ω–∏–º–∞–ª—å–Ω–∞—è –≤–∞–ª–∏–¥–∞—Ü–∏—è<br>‚Ä¢ –í—Ä–µ–º–µ–Ω–Ω—ã–µ —Ç–∞–±–ª–∏—Ü—ã<br>‚Ä¢ –û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –∏–Ω–¥–µ–∫—Å–æ–≤              | Near real-time / –ü–∞–∫–µ—Ç–Ω–æ        | AWS S3, Azure Blob, Kafka, CDC tools | ‚Ä¢ Volume ingested<br>‚Ä¢ Latency from source<br>‚Ä¢ Error count on ingest        |
| **2. ODS / ODL**          | –û–ø–µ—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –≤ –µ–¥–∏–Ω–æ–º —Ñ–æ—Ä–º–∞—Ç–µ | ‚Ä¢ –°—Ç–∞–Ω–¥–∞—Ä—Ç–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —Ç–∏–ø—ã –¥–∞–Ω–Ω—ã—Ö<br>‚Ä¢ –ë–∞–∑–æ–≤—ã–µ constraints<br>‚Ä¢ –î–µ–Ω–æ—Ä–º–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–µ —Ç–∞–±–ª–∏—Ü—ã<br>‚Ä¢ –ò–Ω–¥–µ–∫—Å—ã –Ω–∞ –∫–ª—é—á–∞—Ö     | Near real-time (15-60 –º–∏–Ω)      | PostgreSQL, SQL Server, Oracle       | ‚Ä¢ Data quality scores<br>‚Ä¢ Processing latency<br>‚Ä¢ Rejection rates           |
| **3. DDS / DWD**          | –î–µ—Ç–∞–ª—å–Ω—ã–µ –∏—Å—Ç–æ—Ä–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ    | ‚Ä¢ –ù–æ—Ä–º–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞<br>‚Ä¢ SCD Type 2/4/6<br>‚Ä¢ –°—Ö–µ–º–∞ "–ó–≤–µ–∑–¥–∞"/"–°–Ω–µ–∂–∏–Ω–∫–∞"<br>‚Ä¢ –ü–æ–ª–Ω–∞—è –∞—É–¥–∏—Ç–æ—Ä–∏—è –∏–∑–º–µ–Ω–µ–Ω–∏–π       | –ü–∞–∫–µ—Ç–Ω–æ (–µ–∂–µ–¥–Ω–µ–≤–Ω–æ)             | Cloud DWH, Columnar DBs              | ‚Ä¢ History completeness<br>‚Ä¢ Data freshness<br>‚Ä¢ Query performance            |
| **4. Data Marts**         | –ü—Ä–µ–¥–Ω–∞—Å—Ç—Ä–æ–µ–Ω–Ω—ã–µ –≤–∏—Ç—Ä–∏–Ω—ã –¥–ª—è –±–∏–∑–Ω–µ—Å–∞  | ‚Ä¢ –°–∏–ª—å–Ω–∞—è –¥–µ–Ω–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—è<br>‚Ä¢ –ê–≥—Ä–µ–≥–∞—Ç—ã –∏ –ø—Ä–µ–¥—Ä–∞—Å—á–µ—Ç—ã<br>‚Ä¢ –ë–∏–∑–Ω–µ—Å-–º–µ—Ç—Ä–∏–∫–∏<br>‚Ä¢ –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –ø–æ–¥ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã     | –ü–∞–∫–µ—Ç–Ω–æ (–µ–∂–µ–¥–Ω–µ–≤–Ω–æ/–µ–∂–µ–Ω–µ–¥–µ–ª—å–Ω–æ) | Same as DDS + Materialized Views     | ‚Ä¢ Business metric accuracy<br>‚Ä¢ User query performance<br>‚Ä¢ Usage statistics |
| **5. Presentation / REP** | –ì–æ—Ç–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞           | ‚Ä¢ –ö–µ—à–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã<br>‚Ä¢ –ê–≥—Ä–µ–≥–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –ø–æ–∫–∞–∑–∞—Ç–µ–ª–∏<br>‚Ä¢ –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –¥–ª—è BI-–∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤<br>‚Ä¢ Security policies | –ü–æ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—é / –ö–µ—à             | Power BI, Tableau, Metabase, Looker  | ‚Ä¢ Dashboard load times<br>‚Ä¢ User satisfaction<br>‚Ä¢ Concurrent users          |

---

## –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Å–ª–æ–∏

### **Sandbox ("–ü–µ—Å–æ—á–Ω–∏—Ü–∞")**

**–¢–µ—Ö–Ω–∏—á–µ—Å–∫–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è:**

- –û—Ç–¥–µ–ª—å–Ω–∞—è –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö/—Å—Ö–µ–º–∞
- –õ–∏–º–∏—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —Ä–µ—Å—É—Ä—Å—ã (CPU, Memory)
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —É–¥–∞–ª–µ–Ω–∏–µ —Å—Ç–∞—Ä—ã—Ö –¥–∞–Ω–Ω—ã—Ö (TTL)
- –î–æ—Å—Ç—É–ø –ø–æ –∑–∞–ø—Ä–æ—Å—É

**Use cases:**

- A/B —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –º–æ–¥–µ–ª–µ–π –¥–∞–Ω–Ω—ã—Ö
- –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞ –∏ –æ—Ç–ª–∞–¥–∫–∞ ETL
- –û–±—É—á–µ–Ω–∏–µ –Ω–æ–≤—ã—Ö —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤

### **Data Lake ("–û–∑–µ—Ä–æ –¥–∞–Ω–Ω—ã—Ö")**

**–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã–µ –ø–∞—Ç—Ç–µ—Ä–Ω—ã:**

```bash
Raw Zone ‚Üí Clean Zone ‚Üí Curated Zone
```

- **Raw Zone**: Parquet/AVRO/ORC —Ñ–æ—Ä–º–∞—Ç—ã
- **Clean Zone**: —Å—Ç–∞–Ω–¥–∞—Ä—Ç–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —Ñ–æ—Ä–º–∞—Ç—ã
- **Curated Zone**: –≥–æ—Ç–æ–≤—ã–µ –∫ —É–ø–æ—Ç—Ä–µ–±–ª–µ–Ω–∏—é –¥–∞—Ç–∞—Å–µ—Ç—ã

**–¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏:** Delta Lake, Apache Iceberg, Hudi

### **Semantic Layer**

**–ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã:**

- **Business Metrics Dictionary** - —Å–ª–æ–≤–∞—Ä—å –º–µ—Ç—Ä–∏–∫
- **Data Catalog** - –∫–∞—Ç–∞–ª–æ–≥ –¥–∞–Ω–Ω—ã—Ö
- **Access Control** - —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –¥–æ—Å—Ç—É–ø–æ–º
- **Query Engine** - –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –∑–∞–ø—Ä–æ—Å–æ–≤

**–†–µ–∞–ª–∏–∑–∞—Ü–∏–∏:** dbt Semantic Layer, LookML, AtScale

---

## üîß –ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ –≤—ã–±–æ—Ä—É —Å–ª–æ–µ–≤

### **–î–ª—è —Å—Ç–∞—Ä—Ç–∞–ø–æ–≤ (–º–∞–ª—ã–π –æ–±—ä–µ–º)**

```bash
Staging ‚Üí DDS ‚Üí Data Marts
```

**–ü—Ä–æ–ø—É—Å–∫–∞–µ–º:** ODS (—Å–ª–∏—à–∫–æ–º —Å–ª–æ–∂–Ω–æ), Semantic Layer (—Ä–∞–Ω–æ)

### **–î–ª—è —Å—Ä–µ–¥–Ω–µ–≥–æ –±–∏–∑–Ω–µ—Å–∞**

```bash
Staging ‚Üí ODS ‚Üí DDS ‚Üí Data Marts ‚Üí Presentation
```

**–î–æ–±–∞–≤–ª—è–µ–º:** Sandbox –¥–ª—è —ç–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç–æ–≤

### **–î–ª—è –∫–æ—Ä–ø–æ—Ä–∞—Ü–∏–π**

```bash
Data Lake ‚Üí ODS ‚Üí DDS ‚Üí Data Marts ‚Üí Semantic Layer ‚Üí Presentation
```

**–û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ:** Data Governance, Data Quality frameworks

---

## üìä –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∏ –º–µ—Ç—Ä–∏–∫–∏ –ø–æ —Å–ª–æ—è–º

| –°–ª–æ–π           | Critical Metrics                                                               | Alerting Triggers                           |
| :------------- | :----------------------------------------------------------------------------- | :------------------------------------------ |
| **Staging**    | ‚Ä¢ Source latency > 15min<br>‚Ä¢ File format errors<br>‚Ä¢ Connection failures      | ‚Ä¢ No new data for 1h<br>‚Ä¢ Error rate > 1%   |
| **ODS**        | ‚Ä¢ Data quality score < 95%<br>‚Ä¢ Processing time > SLA<br>‚Ä¢ Rejection rate > 5% | ‚Ä¢ DQ score < 90%<br>‚Ä¢ SLA violation         |
| **DDS**        | ‚Ä¢ Data freshness > 24h<br>‚Ä¢ SCD history gaps<br>‚Ä¢ ETL job failures             | ‚Ä¢ Freshness > SLA<br>‚Ä¢ Job failure          |
| **Data Marts** | ‚Ä¢ Metric calculation errors<br>‚Ä¢ User query timeouts<br>‚Ä¢ Data inconsistencies | ‚Ä¢ Calculation errors<br>‚Ä¢ Timeout rate > 5% |

---

## üö® Anti-patterns (–ß–µ–≥–æ –∏–∑–±–µ–≥–∞—Ç—å)

1. **–ü—Ä–æ–ø—É—Å–∫ ODS** ‚Üí —Å–ª–æ–∂–Ω–æ—Å—Ç—å –æ—Ç–ª–∞–¥–∫–∏ ETL
2. **–°–º–µ—à–µ–Ω–∏–µ DDS –∏ Data Marts** ‚Üí performance issues
3. **–û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ Sandbox** ‚Üí —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞ –≤ production
4. **–ò–≥–Ω–æ—Ä–∏—Ä–æ–≤–∞–Ω–∏–µ Semantic Layer** ‚Üí —Ä–∞–∑—Ä–æ–∑–Ω–µ–Ω–Ω—ã–µ –º–µ—Ç—Ä–∏–∫–∏
5. **–ü—Ä—è–º—ã–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ DDS** ‚Üí –Ω–∞—Ä—É—à–µ–Ω–∏–µ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã

---

## ‚úÖ Best Practices

1. **–ß–µ—Ç–∫–æ–µ —Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏** –º–µ–∂–¥—É —Å–ª–æ—è–º–∏
2. **–°—Ç–∞–Ω–¥–∞—Ä—Ç–∏–∑–∞—Ü–∏—è naming convention** across layers
3. **–ê–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞** –∫–∞—á–µ—Å—Ç–≤–∞ –¥–∞–Ω–Ω—ã—Ö
4. **–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è** –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —Å–ª–æ—è
5. **–ü–æ—Å—Ç–µ–ø–µ–Ω–Ω–æ–µ –≤–Ω–µ–¥—Ä–µ–Ω–∏–µ** - –Ω–∞—á–∏–Ω–∞—Ç—å —Å –º–∏–Ω–∏–º–∞–ª—å–Ω–æ–π –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏

---

**–°–ª–µ–¥—É—é—â–∏–π —Ä–∞–∑–¥–µ–ª:** [1.2 - –ú–µ—Ç–æ–¥–æ–ª–æ–≥–∏–∏ DWH: Kimball vs Inmon vs Data Vault](./02-methodologies-kimball-inmon-data-vault.md)
